---
// Sample featured posts data - will be replaced with Content Collections
const featuredPosts = [
  {
    title: 'Cách xây dựng chiến lược SEO hiệu quả trong năm 2025 với AI',
    excerpt:
      'Hướng dẫn chi tiết về cách kết hợp AI tools vào quy trình SEO để tăng traffic organic...',
    image: 'https://images.unsplash.com/photo-1677442136019-21780ecad995?w=800&q=80',
    category: { label: 'AI & Automation', color: 'purple' },
    readingTime: '15 phút',
    date: '30/12/2025',
    href: '/blog/ai-automation/chien-luoc-seo-2025/',
    featured: true,
  },
  {
    title: 'GEO: Cách thắng trong AI Search',
    image: 'https://images.unsplash.com/photo-1551288049-bebda4e38f71?w=200&q=80',
    category: { label: 'AI & Automation', color: 'purple' },
    readingTime: '8 phút',
    href: '/blog/ai-automation/geo-ai-search/',
  },
  {
    title: 'LLM Seeding: Chiến lược SEO mới',
    image: 'https://images.unsplash.com/photo-1460925895917-afdab827c52f?w=200&q=80',
    category: { label: 'Marketing', color: 'blue' },
    readingTime: '10 phút',
    href: '/blog/marketing/llm-seeding/',
  },
  {
    title: '7 Chiến lược có backlinks chất lượng',
    image: 'https://images.unsplash.com/photo-1552664730-d307ca884978?w=200&q=80',
    category: { label: 'Content', color: 'green' },
    readingTime: '12 phút',
    href: '/blog/content/backlinks-chat-luong/',
  },
  {
    title: 'Pomodoro: Tập trung làm việc hiệu quả',
    image: 'https://images.unsplash.com/photo-1499750310107-5fef28a66643?w=200&q=80',
    category: { label: 'Deep Work', color: 'yellow' },
    readingTime: '5 phút',
    href: '/blog/deepwork/pomodoro/',
  },
];

const mainPost = featuredPosts[0];
const sidePosts = featuredPosts.slice(1);

const getCategoryColorClass = (color: string) => {
  const colorMap: Record<string, string> = {
    purple: 'bg-purple-500 text-white',
    blue: 'bg-blue-500 text-white',
    green: 'bg-green-500 text-white',
    yellow: 'bg-yellow-500 text-charcoal',
  };
  return colorMap[color] || 'bg-gray-500 text-white';
};

const getCategoryTextClass = (color: string) => {
  const colorMap: Record<string, string> = {
    purple: 'text-purple-500',
    blue: 'text-blue-500',
    green: 'text-green-500',
    yellow: 'text-yellow-600',
  };
  return colorMap[color] || 'text-gray-500';
};
---

<section class="py-16 lg:py-24 bg-white dark:bg-charcoal">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="flex items-center justify-between mb-10">
      <div>
        <span
          class="inline-block px-3 py-1 bg-bv-red/10 text-bv-red text-xs font-semibold rounded-full mb-3"
          >BÀI VIẾT NỔI BẬT</span
        >
        <h2 class="text-2xl lg:text-3xl font-bold">Học AI Marketing từ thực chiến</h2>
      </div>
      <a
        href="/blog/"
        class="hidden sm:inline-flex items-center gap-2 text-bv-red font-medium hover:underline"
        >Xem tất cả →</a
      >
    </div>

    <div class="grid lg:grid-cols-3 gap-6">
      <!-- Main Featured -->
      <div class="lg:col-span-2 lg:row-span-2">
        <article
          class="group h-full bg-gray-50 dark:bg-charcoal-light/30 border border-gray-200 dark:border-white/5 rounded-2xl overflow-hidden hover:border-bv-red/30 transition-all card-glow flex flex-col"
        >
          <a href={mainPost.href} class="block">
            <div class="relative aspect-[16/9] overflow-hidden">
              <img
                src={mainPost.image}
                alt={mainPost.title}
                class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"
                loading="lazy"
              />
              <div class="absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"></div>
              <div class="absolute bottom-4 left-4 right-4">
                <span
                  class={`px-3 py-1 text-xs font-semibold rounded-full ${getCategoryColorClass(mainPost.category.color)}`}
                  >{mainPost.category.label}</span
                >
              </div>
            </div>
          </a>
          <div class="p-6 lg:p-8 flex-1 flex flex-col">
            <div class="flex items-center gap-3 mb-3 text-sm text-gray-500">
              <span>{mainPost.readingTime} đọc</span>
              <span>•</span>
              <span>{mainPost.date}</span>
            </div>
            <h3 class="text-xl lg:text-2xl font-bold mb-3 group-hover:text-bv-red transition-colors">
              <a href={mainPost.href}>{mainPost.title}</a>
            </h3>
            <p class="text-gray-600 dark:text-gray-400 mb-4 line-clamp-2 flex-1">
              {mainPost.excerpt}
            </p>
          </div>
        </article>
      </div>

      <!-- Side Posts -->
      <div class="space-y-4">
        {
          sidePosts.map((post) => (
            <article class="group flex gap-4 bg-gray-50 dark:bg-charcoal-light/30 border border-gray-200 dark:border-white/5 rounded-xl p-4 hover:border-bv-red/30 transition-all">
              <a href={post.href} class="w-20 h-20 rounded-lg overflow-hidden flex-shrink-0">
                <img
                  src={post.image}
                  alt={post.title}
                  class="w-full h-full object-cover"
                  loading="lazy"
                />
              </a>
              <div class="flex-1 min-w-0">
                <span class={`text-xs font-medium ${getCategoryTextClass(post.category.color)}`}>
                  {post.category.label}
                </span>
                <h4 class="font-semibold mt-1 mb-2 line-clamp-2 group-hover:text-bv-red transition-colors">
                  <a href={post.href}>{post.title}</a>
                </h4>
                <span class="text-xs text-gray-500">{post.readingTime}</span>
              </div>
            </article>
          ))
        }
      </div>
    </div>
  </div>
</section>
